pipeline {
    agent { 
		docker { 
			image 'maven:3.5.2' 
			args '--network training-playground'
		}
	}
    stages {
        stage('tests') {
            steps {
	    	configFileProvider([configFile(fileId: "settings.xml", targetLocation: 'settings-copy.xml')]) {
			sh "mvn deploy:deploy-file
				-s settings-copy.xml
				-Durl='http://nexus:8081/repository/maven-releases/'
				-DrepositoryId='maven-releases'
				-Dfile='005 - Recording Test Results and Artifacts/Java Application/target/java-app-1.0.0.jar'
				-Dpackaging=jar
				-DgeneratePom=true
				-DgeneratePom.description='Generated from training-playground'
				-DgroupId='training-playground-test'
				-DartifactId='training-playground-java-app-test'
				-version=1.0.1"
						
		}
            }
        }
    }
}
